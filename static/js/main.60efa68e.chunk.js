(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{181:function(e,n,t){},183:function(e,n,t){"use strict";t.r(n);var r,a=t(0),o=t.n(a),c=t(26),i=t.n(c),u=t(15),l=t(4),s=t(46),p=t(13),y=t(12),b=t(45),f=t.n(b);!function(e){e.None="",e.PlayerA="1",e.PlayerB="2"}(r||(r={}));var d=function(e,n){return Object(p.a)(Array(n)).map(function(n){return Object(p.a)(Array(e)).map(function(e){return r.None})})},h=function(e,n,t){for(var a=e.length-1;a>=0;--a)if(e[a][n]===r.None){var o=Object(p.a)(e).map(function(e){return Object(p.a)(e)});return o[a][n]=t,o}throw new Error("Unable to play: invalid position")},O=function(e,n,t){for(var a=0;e[a][n]===r.None;++a);var o=e[a][n],c=function(n){var t=0,r=!0,a=!1,c=void 0;try{for(var i,u=n[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value;if(l.x<0||l.x>=e[0].length||l.y<0||l.y>=e.length||e[l.y][l.x]!==o)break;++t}}catch(s){a=!0,c=s}finally{try{r||null==u.return||u.return()}finally{if(a)throw c}}return t},i=f.a.mark(function e(n,t,r,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,{x:n+=r,y:t+=a};case 3:e.next=0;break;case 5:case"end":return e.stop()}},e,this)}),u=function(e,t){return c(i(n,a,-e,-t))+c(i(n,a,e,t))+1};return u(0,1)>=t||u(1,0)>=t||u(1,1)>=t||u(1,-1)>=t},j=6,v=7,m=4,E={grid:d(v,j),currentPlayer:r.PlayerA,winner:r.None,history:{past:[],future:[]}},w=Object(l.combineReducers)({connectFour:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"NEW_GAME":return Object(y.a)({},e,{grid:d(v,j),winner:r.None,history:{past:[],future:[]}});case"PLAY_AT":if(e.winner!==r.None)throw new Error("Game is over, a player already won");var t=n.payload.columnIdx,a=h(e.grid,t,e.currentPlayer),o=O(a,t,m);return Object(y.a)({},e,{grid:a,currentPlayer:e.currentPlayer===r.PlayerA?r.PlayerB:r.PlayerA,winner:o?e.currentPlayer:r.None,history:{past:[t].concat(Object(p.a)(e.history.past)),future:[]}});case"CANCEL_MOVE":if(0===e.history.past.length)throw new Error("Unable to undo operation, no more history available");var c=Object(s.a)(e.history.past),i=c[0],u=c.slice(1),l=function(e,n){for(var t=0;t!==e.length;++t)if(e[t][n]!==r.None){var a=Object(p.a)(e).map(function(e){return Object(p.a)(e)});return a[t][n]=r.None,a}throw new Error("Unable to unplay: invalid position")}(e.grid,i);return Object(y.a)({},e,{grid:l,currentPlayer:e.currentPlayer===r.PlayerA?r.PlayerB:r.PlayerA,winner:r.None,history:{past:u,future:[i].concat(Object(p.a)(e.history.future))}});case"REDO_MOVE":if(0===e.history.future.length)throw new Error("Unable to redo operation, no more history available");var b=Object(s.a)(e.history.future),f=b[0],w=b.slice(1),P=h(e.grid,f,e.currentPlayer),g=O(P,f,m);return Object(y.a)({},e,{grid:P,currentPlayer:e.currentPlayer===r.PlayerA?r.PlayerB:r.PlayerA,winner:g?e.currentPlayer:r.None,history:{past:[f].concat(Object(p.a)(e.history.past)),future:w}});default:return e}}}),P=t(64),g=Object(l.createStore)(w,Object(P.devToolsEnhancer)({})),N=(t(81),t(5)),A=t(6),k=t(8),C=t(7),x=t(9),M=(t(83),function(){return{type:"NEW_GAME",payload:null}}),F=function(e){return{type:"PLAY_AT",payload:{columnIdx:e}}},_=function(){return{type:"CANCEL_MOVE",payload:null}},G=function(){return{type:"REDO_MOVE",payload:null}},U=(t(85),t(87),t(89),function(e){function n(){return Object(N.a)(this,n),Object(k.a)(this,Object(C.a)(n).apply(this,arguments))}return Object(x.a)(n,e),Object(A.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"board-cell player-".concat(this.props.player)})}}]),n}(o.a.Component)),B=function(e){function n(){return Object(N.a)(this,n),Object(k.a)(this,Object(C.a)(n).apply(this,arguments))}return Object(x.a)(n,e),Object(A.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"board-column ".concat(this.props.playable?"playable":"not-playable"),onClick:this.props.playable?this.props.onClick:void 0},this.props.tokens.map(function(e,n){return o.a.createElement(U,{key:n,player:e})}))}}]),n}(o.a.Component),R=function(e){function n(){return Object(N.a)(this,n),Object(k.a)(this,Object(C.a)(n).apply(this,arguments))}return Object(x.a)(n,e),Object(A.a)(n,[{key:"render",value:function(){for(var e=this,n=[],t=function(t){var a=e.props.grid[0][t]===r.None&&!e.props.done,c=e.props.grid.map(function(e){return e[t]});n.push(o.a.createElement(B,{key:t,playable:a,tokens:c,onClick:a?function(){return e.props.playAt(t)}:void 0}))},a=0;a!==this.props.grid[0].length;++a)t(a);return o.a.createElement("div",{className:"board player-"+this.props.currentPlayer},n)}}]),n}(o.a.Component);var L=Object(u.b)(function(e){return{grid:e.connectFour.grid,currentPlayer:e.connectFour.currentPlayer,done:e.connectFour.winner!==r.None}},function(e){return Object(y.a)({},Object(l.bindActionCreators)({playAt:F},e))})(R),V=(t(91),t(65)),I=t.n(V),T=t(67),D=t.n(T),J=t(66),S=t.n(J),W=t(37),Y=t.n(W),q=function(e){function n(){return Object(N.a)(this,n),Object(k.a)(this,Object(C.a)(n).apply(this,arguments))}return Object(x.a)(n,e),Object(A.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(Y.a,{id:"undo-button",variant:"contained",onClick:function(){return e.props.cancelMove()},disabled:!this.props.canUndo},o.a.createElement(I.a,null)),o.a.createElement(Y.a,{id:"new-game-button",variant:"contained",onClick:function(){return e.props.newGame()}},"New Game ",o.a.createElement(S.a,null)),o.a.createElement(Y.a,{id:"redo-button",variant:"contained",onClick:function(){return e.props.redoMove()},disabled:!this.props.canRedo},o.a.createElement(D.a,null)))}}]),n}(o.a.Component);var z=Object(u.b)(function(e){return{canUndo:e.connectFour.history.past.length>0,canRedo:e.connectFour.history.future.length>0}},function(e){return Object(y.a)({},Object(l.bindActionCreators)({newGame:M,cancelMove:_,redoMove:G},e))})(q),H=(t(181),function(e){function n(){return Object(N.a)(this,n),Object(k.a)(this,Object(C.a)(n).apply(this,arguments))}return Object(x.a)(n,e),Object(A.a)(n,[{key:"render",value:function(){var e=this.props,n=e.winner,t=e.currentPlayer;return n!==r.None?o.a.createElement("div",{className:"instructions victory player-".concat(n)},"Player #",n," won"):o.a.createElement("div",{className:"instructions player-".concat(t)},"Player #",t," turn")}}]),n}(o.a.Component));var K=Object(u.b)(function(e){return{currentPlayer:e.connectFour.currentPlayer,winner:e.connectFour.winner}},function(e){return Object(y.a)({},Object(l.bindActionCreators)({},e))})(H),Q=function(e){function n(){return Object(N.a)(this,n),Object(k.a)(this,Object(C.a)(n).apply(this,arguments))}return Object(x.a)(n,e),Object(A.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"connect-four-app"},o.a.createElement(K,null),o.a.createElement(L,null),o.a.createElement(z,null))}}]),n}(a.Component),X=document.getElementById("root");i.a.render(o.a.createElement(u.a,{store:g},o.a.createElement(Q,null)),X)},68:function(e,n,t){e.exports=t(183)},81:function(e,n,t){},83:function(e,n,t){},85:function(e,n,t){},87:function(e,n,t){},89:function(e,n,t){},91:function(e,n,t){}},[[68,2,1]]]);
//# sourceMappingURL=main.60efa68e.chunk.js.map